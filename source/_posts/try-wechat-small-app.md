---
title: 玩了一下微信小程序
s: try-wechat-small-app
date: 2017-05-15 00:33:26
tags:
    - JavaScript
    - WeChat
---
周六的时候心血来潮突然想试试微信小程序。

在小程序刚出的时候，心里痒痒的但是不开放个人用户。后来再用到别人开发的小程序后就感觉并没有什么特别的地方了。终究是运行在 WebView（广义） 之上，甚至因为种种限制能做的东西还没有 `ionic`, `condova` 之类的多，虽然不是很看好小程序的发展，但是还是挺想试一下玩玩，做一个简单的小程序+v+
<!--more-->
需要用新的账号略有点坑啊...进入之后需要实名验证什么的已经无力再吐槽了。

与服务器通讯必须使用 `https` 协议，不知道是因为 Apple 的原因还是自己想要这么做 hhh，感觉第一次进这个管理后台有点懵逼，配置服务器要输入
- request合法域名
- socket合法域名
- updateFile合法域名
- downloadFile合法域名
完全不知道这些是干嘛的，域名还要分来单独设置一个，但是看起来输入框又是不仅仅可以输入域名的。没有相关的  Guide 指导，也不知道有没有相关的文档可以看。

好吧，好吧，主要还是为了试一下开发工具，就不折腾管理配置了（反正我也不会去运营

呃，这个开发工具好残疾啊...作为一个 eclipse 黑表示这个东西简直不要太简陋。说实话...我真的难以想象做这种东西的开发，至少要打开3个文件吧, html(wxml)，css(wxss) 和 js，这个编辑器连个 split 功能都没有，不知道写起来会多么折腾...

虽然说是编辑器，但是基本的文件管理功能都不全，想把一个文件 move 到另一个文件夹都不能做到，再不行给我个 terminal 啊喂...

大概的试了一下，编辑时保存左边的预览窗口里是直接刷新的，不像 Hot Module Reload 那样会保存原来的状态，结果每次都要手动点击切换 tab 查看结果... 心好累...

这个东西目前还不支持 node_modules(commonjs 不确定，虽然有 require)，试了一下把 bluebird 复制到项目里 require 能够正常使用，不过就不知道其他依赖 node api 的 module 行不行了，大概 *browserify* 能够有点帮助。

感觉这个东西的 API 设计的有点反人类，还是要求提供 `{ success, failed, ... }` 作为参数来回调，都支持 es6 convert to es5 了怎么还是这样玩...另外自带全局的 App, Page 等函数也是有点反人类，既然支持 `require` 为什么要放在 `global/context` 呢。有人说它的 API 和 Vue 很像，我倒是觉得这个东西的 API 和 `javax.microedition.lcdui.MIDlet` 更像一点（哎，我没再黑）。不过这种东西一般都是这样 private state + callback medthods 了。

其实直到这里，还都是能够接收的，有一件最坑的事情是。点击预览一直**上传失败**-_-，这怎么玩，各种 vpn，直连都试过，并没有什么办法。

哎，如果说让我去做这个。我大概会被气炸吧。 

